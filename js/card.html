<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Ajouter un film</title>
</head>
<body>

  <form id="form-film">
    <input type="text" id="titre" placeholder="Titre du film" required />
    <input type="text" id="realisateur" placeholder="R√©alisateur" required />
    <input type="number" id="annee" placeholder="Ann√©e" required />
    <input type="number" id="duree" placeholder="Dur√©e (min)" required />
    <button type="submit">Ajouter le film</button>
  </form>

  <hr />

  <div id="container-film"></div>

  <script>
    // üí° C'est ici qu'on d√©clare le tableau global pour stocker les films
    let films = [];

    document.getElementById("form-film").addEventListener("submit", function (e) {
      e.preventDefault(); // Emp√™che le rechargement de la page

      const titre = document.getElementById("titre").value;
      const realisateur = document.getElementById("realisateur").value;
      const annee = Number(document.getElementById("annee").value);
      const duree = Number(document.getElementById("duree").value);

      const newFilm = {
        titre: titre,
        realisateur: realisateur,
        annee: annee,
        duree: duree,
        vu: false,
        note: null
      };

      films.push(newFilm);
      afficherFilms();
      e.target.reset(); // R√©initialise le formulaire
    });

    function afficherFilms() {
      const filmContainer = document.getElementById("container-film");
      filmContainer.innerHTML = ""; // Nettoie l'affichage

      films.forEach(film => {
        filmContainer.innerHTML += `
          <div class="film">
            <h2>${film.titre}</h2>
            <p>R√©alisateur : ${film.realisateur}</p>
            <p>Ann√©e : ${film.annee}</p>
            <p>Dur√©e : ${film.duree} minutes</p>
            <p>Vu : ${film.vu ? "Oui" : "Non"}</p>
            <p>Note : ${film.note ?? "Non not√©"}</p>
          </div>
        `;
      });
    }
  </script>

</body>
</html>
